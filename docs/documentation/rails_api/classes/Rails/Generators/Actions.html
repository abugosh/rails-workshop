<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Rails::Generators::Actions</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../../css/main.css" type="text/css" media="screen" />
    <script src="../../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Module</span> 
            Rails::Generators::Actions 
            
        </h1>
        <ul class="files">
            
            <li><a href="../../../files/railties/lib/rails/generators/actions_rb.html">railties/lib/rails/generators/actions.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>A</dt>
        <dd>
            <ul>
                
                <li><a href="#M004224">add_source</a>,</li>
                
                <li><a href="#M004226">application</a></li>
                
            </ul>
        </dd>
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M004234">capify!</a></li>
                
            </ul>
        </dd>
    
        <dt>E</dt>
        <dd>
            <ul>
                
                <li><a href="#M004225">environment</a>,</li>
                
                <li><a href="#M004239">extify</a></li>
                
            </ul>
        </dd>
    
        <dt>F</dt>
        <dd>
            <ul>
                
                <li><a href="#M004235">freeze!</a></li>
                
            </ul>
        </dd>
    
        <dt>G</dt>
        <dd>
            <ul>
                
                <li><a href="#M004223">gem</a>,</li>
                
                <li><a href="#M004232">generate</a>,</li>
                
                <li><a href="#M004227">git</a></li>
                
            </ul>
        </dd>
    
        <dt>I</dt>
        <dd>
            <ul>
                
                <li><a href="#M004231">initializer</a></li>
                
            </ul>
        </dd>
    
        <dt>L</dt>
        <dd>
            <ul>
                
                <li><a href="#M004229">lib</a>,</li>
                
                <li><a href="#M004238">log</a></li>
                
            </ul>
        </dd>
    
        <dt>P</dt>
        <dd>
            <ul>
                
                <li><a href="#M004222">plugin</a></li>
                
            </ul>
        </dd>
    
        <dt>R</dt>
        <dd>
            <ul>
                
                <li><a href="#M004233">rake</a>,</li>
                
                <li><a href="#M004230">rakefile</a>,</li>
                
                <li><a href="#M004237">readme</a>,</li>
                
                <li><a href="#M004236">route</a></li>
                
            </ul>
        </dd>
    
        <dt>V</dt>
        <dd>
            <ul>
                
                <li><a href="#M004228">vendor</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    

    

    

    
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M004224">
                    
                    <a name="M004224"></a><b>add_source</b>(source, options={})
                    
                </div>
                
                <div class="description">
                  <p>
Add the given source to Gemfile
</p>
<h4>Example</h4>
<pre>
  add_source &quot;http://gems.github.com/&quot;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004224_source')" id="l_M004224_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/eff41a2c05fbc6b0c86aae467fd9dc5bd515da67/railties/lib/rails/generators/actions.rb#L95" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M004224_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File railties/lib/rails/generators/actions.rb, line 95</span>
 95:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_source</span>(<span class="ruby-identifier">source</span>, <span class="ruby-identifier">options</span>={})
 96:         <span class="ruby-identifier">log</span> <span class="ruby-identifier">:source</span>, <span class="ruby-identifier">source</span>
 97: 
 98:         <span class="ruby-identifier">in_root</span> <span class="ruby-keyword kw">do</span>
 99:           <span class="ruby-identifier">prepend_file</span> <span class="ruby-value str">&quot;Gemfile&quot;</span>, <span class="ruby-node">&quot;source #{source.inspect}\n&quot;</span>, <span class="ruby-identifier">:verbose</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>
100:         <span class="ruby-keyword kw">end</span>
101:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004226">
                    
                    <a name="M004226"></a><b>application</b>(data=nil, options={}, &amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="Actions.html#M004225">environment</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M004234">
                    
                    <a name="M004234"></a><b>capify!</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Just run the capify command in root
</p>
<h4>Example</h4>
<pre>
  capify!
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004234_source')" id="l_M004234_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/eff41a2c05fbc6b0c86aae467fd9dc5bd515da67/railties/lib/rails/generators/actions.rb#L255" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M004234_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File railties/lib/rails/generators/actions.rb, line 255</span>
255:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">capify!</span>
256:         <span class="ruby-identifier">log</span> <span class="ruby-identifier">:capify</span>, <span class="ruby-value str">&quot;&quot;</span>
257:         <span class="ruby-identifier">in_root</span> { <span class="ruby-identifier">run</span>(<span class="ruby-node">&quot;#{extify(:capify)} .&quot;</span>, <span class="ruby-identifier">:verbose</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>) }
258:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004225">
                    
                    <a name="M004225"></a><b>environment</b>(data=nil, options={}, &amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Adds a line inside the <a href="../Application.html">Application</a> class
for config/application.rb.
</p>
<p>
If options :env is specified, the line is appended to the corresponding
file in config/environments.
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="Actions.html#M004226">application</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004225_source')" id="l_M004225_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/eff41a2c05fbc6b0c86aae467fd9dc5bd515da67/railties/lib/rails/generators/actions.rb#L108" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M004225_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File railties/lib/rails/generators/actions.rb, line 108</span>
108:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">environment</span>(<span class="ruby-identifier">data</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">options</span>={}, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
109:         <span class="ruby-identifier">sentinel</span> = <span class="ruby-regexp re">/class [a-z_:]+ &lt; Rails::Application/i</span>
110:         <span class="ruby-identifier">data</span> = <span class="ruby-identifier">block</span>.<span class="ruby-identifier">call</span> <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">data</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">block_given?</span>
111: 
112:         <span class="ruby-identifier">in_root</span> <span class="ruby-keyword kw">do</span>
113:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:env</span>].<span class="ruby-identifier">nil?</span>
114:             <span class="ruby-identifier">inject_into_file</span> <span class="ruby-value str">'config/application.rb'</span>, <span class="ruby-node">&quot;\n  #{data}&quot;</span>, <span class="ruby-identifier">:after</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">sentinel</span>, <span class="ruby-identifier">:verbose</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>
115:           <span class="ruby-keyword kw">else</span>
116:             <span class="ruby-constant">Array</span>.<span class="ruby-identifier">wrap</span>(<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:env</span>]).<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span><span class="ruby-operator">|</span><span class="ruby-identifier">env</span><span class="ruby-operator">|</span>
117:               <span class="ruby-identifier">append_file</span> <span class="ruby-node">&quot;config/environments/#{env}.rb&quot;</span>, <span class="ruby-node">&quot;\n#{data}&quot;</span>, <span class="ruby-identifier">:verbose</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>
118:             <span class="ruby-keyword kw">end</span>
119:           <span class="ruby-keyword kw">end</span>
120:         <span class="ruby-keyword kw">end</span>
121:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004235">
                    
                    <a name="M004235"></a><b>freeze!</b>(args={})
                    
                </div>
                
                <div class="description">
                  <p>
Add <a href="../../Rails.html">Rails</a> to /vendor/rails
</p>
<h4>Example</h4>
<pre>
  freeze!
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004235_source')" id="l_M004235_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/eff41a2c05fbc6b0c86aae467fd9dc5bd515da67/railties/lib/rails/generators/actions.rb#L266" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M004235_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File railties/lib/rails/generators/actions.rb, line 266</span>
266:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">freeze!</span>(<span class="ruby-identifier">args</span>={})
267:         <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Deprecation</span>.<span class="ruby-identifier">warn</span> <span class="ruby-value str">&quot;freeze! is deprecated since your rails app now comes bundled with Rails by default, please check your Gemfile&quot;</span>
268:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004223">
                    
                    <a name="M004223"></a><b>gem</b>(*args)
                    
                </div>
                
                <div class="description">
                  <p>
Adds an entry into Gemfile for the supplied gem. If env is specified, add
the gem to the given environment.
</p>
<h4>Example</h4>
<pre>
  gem &quot;rspec&quot;, :group =&gt; :test
  gem &quot;technoweenie-restful-authentication&quot;, :lib =&gt; &quot;restful-authentication&quot;, :source =&gt; &quot;http://gems.github.com/&quot;
  gem &quot;rails&quot;, &quot;3.0&quot;, :git =&gt; &quot;git://github.com/rails/rails&quot;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004223_source')" id="l_M004223_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/eff41a2c05fbc6b0c86aae467fd9dc5bd515da67/railties/lib/rails/generators/actions.rb#L52" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M004223_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File railties/lib/rails/generators/actions.rb, line 52</span>
52:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">gem</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
53:         <span class="ruby-identifier">options</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">extract_options!</span>
54:         <span class="ruby-identifier">name</span>, <span class="ruby-identifier">version</span> = <span class="ruby-identifier">args</span>
55: 
56:         <span class="ruby-comment cmt"># Deal with deprecated options</span>
57:         { <span class="ruby-identifier">:env</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:group</span>, <span class="ruby-identifier">:only</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:group</span>,
58:           <span class="ruby-identifier">:lib</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:require</span>, <span class="ruby-identifier">:require_as</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:require</span> }.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">old</span>, <span class="ruby-identifier">new</span><span class="ruby-operator">|</span>
59:           <span class="ruby-keyword kw">next</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">old</span>]
60:           <span class="ruby-identifier">options</span>[<span class="ruby-identifier">new</span>] = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">old</span>)
61:           <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Deprecation</span>.<span class="ruby-identifier">warn</span> <span class="ruby-node">&quot;#{old.inspect} option in gem is deprecated, use #{new.inspect} instead&quot;</span>
62:         <span class="ruby-keyword kw">end</span>
63: 
64:         <span class="ruby-comment cmt"># Deal with deprecated source</span>
65:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">source</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">:source</span>)
66:           <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Deprecation</span>.<span class="ruby-identifier">warn</span> <span class="ruby-value str">&quot;:source option in gem is deprecated, use add_source method instead&quot;</span>
67:           <span class="ruby-identifier">add_source</span>(<span class="ruby-identifier">source</span>)
68:         <span class="ruby-keyword kw">end</span>
69: 
70:         <span class="ruby-comment cmt"># Set the message to be shown in logs. Uses the git repo if one is given,</span>
71:         <span class="ruby-comment cmt"># otherwise use name (version).</span>
72:         <span class="ruby-identifier">parts</span>, <span class="ruby-identifier">message</span> = [ <span class="ruby-identifier">name</span>.<span class="ruby-identifier">inspect</span> ], <span class="ruby-identifier">name</span>
73:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">version</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">:version</span>)
74:           <span class="ruby-identifier">parts</span>   <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">version</span>.<span class="ruby-identifier">inspect</span>
75:           <span class="ruby-identifier">message</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot; (#{version})&quot;</span>
76:         <span class="ruby-keyword kw">end</span>
77:         <span class="ruby-identifier">message</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:git</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:git</span>]
78: 
79:         <span class="ruby-identifier">log</span> <span class="ruby-identifier">:gemfile</span>, <span class="ruby-identifier">message</span>
80: 
81:         <span class="ruby-identifier">options</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">option</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
82:           <span class="ruby-identifier">parts</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;:#{option} =&gt; #{value.inspect}&quot;</span>
83:         <span class="ruby-keyword kw">end</span>
84: 
85:         <span class="ruby-identifier">in_root</span> <span class="ruby-keyword kw">do</span>
86:           <span class="ruby-identifier">append_file</span> <span class="ruby-value str">&quot;Gemfile&quot;</span>, <span class="ruby-node">&quot;gem #{parts.join(&quot;, &quot;)}\n&quot;</span>, <span class="ruby-identifier">:verbose</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>
87:         <span class="ruby-keyword kw">end</span>
88:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004232">
                    
                    <a name="M004232"></a><b>generate</b>(what, *args)
                    
                </div>
                
                <div class="description">
                  <p>
Generate something using a generator from <a
href="../../Rails.html">Rails</a> or a plugin. The second parameter is the
argument string that is passed to the generator or an Array that is joined.
</p>
<h4>Example</h4>
<pre>
  generate(:authenticated, &quot;user session&quot;)
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004232_source')" id="l_M004232_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/eff41a2c05fbc6b0c86aae467fd9dc5bd515da67/railties/lib/rails/generators/actions.rb#L227" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M004232_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File railties/lib/rails/generators/actions.rb, line 227</span>
227:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">generate</span>(<span class="ruby-identifier">what</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
228:         <span class="ruby-identifier">log</span> <span class="ruby-identifier">:generate</span>, <span class="ruby-identifier">what</span>
229:         <span class="ruby-identifier">argument</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">map</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">arg</span><span class="ruby-operator">|</span> <span class="ruby-identifier">arg</span>.<span class="ruby-identifier">to_s</span> }.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot; &quot;</span>)
230: 
231:         <span class="ruby-identifier">in_root</span> { <span class="ruby-identifier">run_ruby_script</span>(<span class="ruby-node">&quot;script/rails generate #{what} #{argument}&quot;</span>, <span class="ruby-identifier">:verbose</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>) }
232:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004227">
                    
                    <a name="M004227"></a><b>git</b>(command={})
                    
                </div>
                
                <div class="description">
                  <p>
Run a command in git.
</p>
<h4>Examples</h4>
<pre>
  git :init
  git :add =&gt; &quot;this.file that.rb&quot;
  git :add =&gt; &quot;onefile.rb&quot;, :rm =&gt; &quot;badfile.cxx&quot;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004227_source')" id="l_M004227_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/eff41a2c05fbc6b0c86aae467fd9dc5bd515da67/railties/lib/rails/generators/actions.rb#L132" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M004227_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File railties/lib/rails/generators/actions.rb, line 132</span>
132:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">git</span>(<span class="ruby-identifier">command</span>={})
133:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">command</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Symbol</span>)
134:           <span class="ruby-identifier">run</span> <span class="ruby-node">&quot;git #{command}&quot;</span>
135:         <span class="ruby-keyword kw">else</span>
136:           <span class="ruby-identifier">command</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">command</span>, <span class="ruby-identifier">options</span><span class="ruby-operator">|</span>
137:             <span class="ruby-identifier">run</span> <span class="ruby-node">&quot;git #{command} #{options}&quot;</span>
138:           <span class="ruby-keyword kw">end</span>
139:         <span class="ruby-keyword kw">end</span>
140:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004231">
                    
                    <a name="M004231"></a><b>initializer</b>(filename, data=nil, &amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Create a new initializer with the provided code (either in a block or a
string).
</p>
<h4>Examples</h4>
<pre>
  initializer(&quot;globals.rb&quot;) do
    data = &quot;&quot;

    ['MY_WORK', 'ADMINS', 'BEST_COMPANY_EVAR'].each do
      data &lt;&lt; &quot;#{const} = :entp&quot;
    end

    data
  end

  initializer(&quot;api.rb&quot;, &quot;API_KEY = '123456'&quot;)
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004231_source')" id="l_M004231_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/eff41a2c05fbc6b0c86aae467fd9dc5bd515da67/railties/lib/rails/generators/actions.rb#L214" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M004231_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File railties/lib/rails/generators/actions.rb, line 214</span>
214:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initializer</span>(<span class="ruby-identifier">filename</span>, <span class="ruby-identifier">data</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
215:         <span class="ruby-identifier">log</span> <span class="ruby-identifier">:initializer</span>, <span class="ruby-identifier">filename</span>
216:         <span class="ruby-identifier">create_file</span>(<span class="ruby-node">&quot;config/initializers/#{filename}&quot;</span>, <span class="ruby-identifier">data</span>, <span class="ruby-identifier">:verbose</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
217:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004229">
                    
                    <a name="M004229"></a><b>lib</b>(filename, data=nil, &amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Create a new file in the lib/ directory. Code can be specified in a block
or a data string can be given.
</p>
<h4>Examples</h4>
<pre>
  lib(&quot;crypto.rb&quot;) do
    &quot;crypted_special_value = '#{rand}--#{Time.now}--#{rand(1337)}--'&quot;
  end

  lib(&quot;foreign.rb&quot;, &quot;# Foreign code is fun&quot;)
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004229_source')" id="l_M004229_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/eff41a2c05fbc6b0c86aae467fd9dc5bd515da67/railties/lib/rails/generators/actions.rb#L170" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M004229_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File railties/lib/rails/generators/actions.rb, line 170</span>
170:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">lib</span>(<span class="ruby-identifier">filename</span>, <span class="ruby-identifier">data</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
171:         <span class="ruby-identifier">log</span> <span class="ruby-identifier">:lib</span>, <span class="ruby-identifier">filename</span>
172:         <span class="ruby-identifier">create_file</span>(<span class="ruby-node">&quot;lib/#{filename}&quot;</span>, <span class="ruby-identifier">data</span>, <span class="ruby-identifier">:verbose</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
173:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004222">
                    
                    <a name="M004222"></a><b>plugin</b>(name, options)
                    
                </div>
                
                <div class="description">
                  <p>
Install a plugin. You must provide either a Subversion url or Git url.
</p>
<p>
For a Git-hosted plugin, you can specify a branch and whether it should be
added as a submodule instead of cloned.
</p>
<p>
For a Subversion-hosted plugin you can specify a revision.
</p>
<h4>Examples</h4>
<pre>
  plugin 'restful-authentication', :git =&gt; 'git://github.com/technoweenie/restful-authentication.git'
  plugin 'restful-authentication', :git =&gt; 'git://github.com/technoweenie/restful-authentication.git', :branch =&gt; 'stable'
  plugin 'restful-authentication', :git =&gt; 'git://github.com/technoweenie/restful-authentication.git', :submodule =&gt; true
  plugin 'restful-authentication', :svn =&gt; 'svn://svnhub.com/technoweenie/restful-authentication/trunk'
  plugin 'restful-authentication', :svn =&gt; 'svn://svnhub.com/technoweenie/restful-authentication/trunk', :revision =&gt; 1234
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004222_source')" id="l_M004222_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/eff41a2c05fbc6b0c86aae467fd9dc5bd515da67/railties/lib/rails/generators/actions.rb#L24" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M004222_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File railties/lib/rails/generators/actions.rb, line 24</span>
24:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">plugin</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span>)
25:         <span class="ruby-identifier">log</span> <span class="ruby-identifier">:plugin</span>, <span class="ruby-identifier">name</span>
26: 
27:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:git</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:submodule</span>]
28:           <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:git</span>] = <span class="ruby-node">&quot;-b #{options[:branch]} #{options[:git]}&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:branch</span>]
29:           <span class="ruby-identifier">in_root</span> <span class="ruby-keyword kw">do</span>
30:             <span class="ruby-identifier">run</span> <span class="ruby-node">&quot;git submodule add #{options[:git]} vendor/plugins/#{name}&quot;</span>, <span class="ruby-identifier">:verbose</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>
31:           <span class="ruby-keyword kw">end</span>
32:         <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:git</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:svn</span>]
33:           <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:git</span>] = <span class="ruby-node">&quot;-b #{options[:branch]} #{options[:git]}&quot;</span>   <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:branch</span>]
34:           <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:svn</span>] = <span class="ruby-node">&quot;-r #{options[:revision]} #{options[:svn]}&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:revision</span>]
35:           <span class="ruby-identifier">in_root</span> <span class="ruby-keyword kw">do</span>
36:             <span class="ruby-identifier">run_ruby_script</span> <span class="ruby-node">&quot;script/rails plugin install #{options[:svn] || options[:git]}&quot;</span>, <span class="ruby-identifier">:verbose</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>
37:           <span class="ruby-keyword kw">end</span>
38:         <span class="ruby-keyword kw">else</span>
39:           <span class="ruby-identifier">log</span> <span class="ruby-node">&quot;! no git or svn provided for #{name}. Skipping...&quot;</span>
40:         <span class="ruby-keyword kw">end</span>
41:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004233">
                    
                    <a name="M004233"></a><b>rake</b>(command, options={})
                    
                </div>
                
                <div class="description">
                  <p>
Runs the supplied rake task
</p>
<h4>Example</h4>
<pre>
  rake(&quot;db:migrate&quot;)
  rake(&quot;db:migrate&quot;, :env =&gt; &quot;production&quot;)
  rake(&quot;gems:install&quot;, :sudo =&gt; true)
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004233_source')" id="l_M004233_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/eff41a2c05fbc6b0c86aae467fd9dc5bd515da67/railties/lib/rails/generators/actions.rb#L242" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M004233_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File railties/lib/rails/generators/actions.rb, line 242</span>
242:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">rake</span>(<span class="ruby-identifier">command</span>, <span class="ruby-identifier">options</span>={})
243:         <span class="ruby-identifier">log</span> <span class="ruby-identifier">:rake</span>, <span class="ruby-identifier">command</span>
244:         <span class="ruby-identifier">env</span>  = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:env</span>] <span class="ruby-operator">||</span> <span class="ruby-value str">'development'</span>
245:         <span class="ruby-identifier">sudo</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:sudo</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">RbConfig</span><span class="ruby-operator">::</span><span class="ruby-constant">CONFIG</span>[<span class="ruby-value str">'host_os'</span>] <span class="ruby-operator">!~</span> <span class="ruby-regexp re">/mswin|mingw/</span> <span class="ruby-operator">?</span> <span class="ruby-value str">'sudo '</span> <span class="ruby-operator">:</span> <span class="ruby-value str">''</span>
246:         <span class="ruby-identifier">in_root</span> { <span class="ruby-identifier">run</span>(<span class="ruby-node">&quot;#{sudo}#{extify(:rake)} #{command} RAILS_ENV=#{env}&quot;</span>, <span class="ruby-identifier">:verbose</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>) }
247:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004230">
                    
                    <a name="M004230"></a><b>rakefile</b>(filename, data=nil, &amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Create a new Rakefile with the provided code (either in a block or a
string).
</p>
<h4>Examples</h4>
<pre>
  rakefile(&quot;bootstrap.rake&quot;) do
    project = ask(&quot;What is the UNIX name of your project?&quot;)

    &lt;&lt;-TASK
      namespace :#{project} do
        task :bootstrap do
          puts &quot;i like boots!&quot;
        end
      end
    TASK
  end

  rakefile(&quot;seed.rake&quot;, &quot;puts 'im plantin ur seedz'&quot;)
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004230_source')" id="l_M004230_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/eff41a2c05fbc6b0c86aae467fd9dc5bd515da67/railties/lib/rails/generators/actions.rb#L193" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M004230_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File railties/lib/rails/generators/actions.rb, line 193</span>
193:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">rakefile</span>(<span class="ruby-identifier">filename</span>, <span class="ruby-identifier">data</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
194:         <span class="ruby-identifier">log</span> <span class="ruby-identifier">:rakefile</span>, <span class="ruby-identifier">filename</span>
195:         <span class="ruby-identifier">create_file</span>(<span class="ruby-node">&quot;lib/tasks/#{filename}&quot;</span>, <span class="ruby-identifier">data</span>, <span class="ruby-identifier">:verbose</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
196:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004237">
                    
                    <a name="M004237"></a><b>readme</b>(path)
                    
                </div>
                
                <div class="description">
                  <p>
Reads the given file at the source root and prints it in the console.
</p>
<h3>Example</h3>
<pre>
  readme &quot;README&quot;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004237_source')" id="l_M004237_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/eff41a2c05fbc6b0c86aae467fd9dc5bd515da67/railties/lib/rails/generators/actions.rb#L291" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M004237_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File railties/lib/rails/generators/actions.rb, line 291</span>
291:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">readme</span>(<span class="ruby-identifier">path</span>)
292:         <span class="ruby-identifier">log</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-identifier">find_in_source_paths</span>(<span class="ruby-identifier">path</span>))
293:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004236">
                    
                    <a name="M004236"></a><b>route</b>(routing_code)
                    
                </div>
                
                <div class="description">
                  <p>
Make an entry in <a href="../../Rails.html">Rails</a> routing file
config/routes.rb
</p>
<h3>Example</h3>
<pre>
  route &quot;root :to =&gt; 'welcome'&quot;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004236_source')" id="l_M004236_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/eff41a2c05fbc6b0c86aae467fd9dc5bd515da67/railties/lib/rails/generators/actions.rb#L276" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M004236_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File railties/lib/rails/generators/actions.rb, line 276</span>
276:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">route</span>(<span class="ruby-identifier">routing_code</span>)
277:         <span class="ruby-identifier">log</span> <span class="ruby-identifier">:route</span>, <span class="ruby-identifier">routing_code</span>
278:         <span class="ruby-identifier">sentinel</span> = <span class="ruby-regexp re">/\.routes\.draw do(?:\s*\|map\|)?\s*$/</span>
279: 
280:         <span class="ruby-identifier">in_root</span> <span class="ruby-keyword kw">do</span>
281:           <span class="ruby-identifier">inject_into_file</span> <span class="ruby-value str">'config/routes.rb'</span>, <span class="ruby-node">&quot;\n  #{routing_code}\n&quot;</span>, { <span class="ruby-identifier">:after</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">sentinel</span>, <span class="ruby-identifier">:verbose</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span> }
282:         <span class="ruby-keyword kw">end</span>
283:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004228">
                    
                    <a name="M004228"></a><b>vendor</b>(filename, data=nil, &amp;block)
                    
                </div>
                
                <div class="description">
                  <p>
Create a new file in the vendor/ directory. Code can be specified in a
block or a data string can be given.
</p>
<h4>Examples</h4>
<pre>
  vendor(&quot;sekrit.rb&quot;) do
    sekrit_salt = &quot;#{Time.now}--#{3.years.ago}--#{rand}--&quot;
    &quot;salt = '#{sekrit_salt}'&quot;
  end

  vendor(&quot;foreign.rb&quot;, &quot;# Foreign code is fun&quot;)
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004228_source')" id="l_M004228_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/eff41a2c05fbc6b0c86aae467fd9dc5bd515da67/railties/lib/rails/generators/actions.rb#L154" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M004228_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File railties/lib/rails/generators/actions.rb, line 154</span>
154:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">vendor</span>(<span class="ruby-identifier">filename</span>, <span class="ruby-identifier">data</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
155:         <span class="ruby-identifier">log</span> <span class="ruby-identifier">:vendor</span>, <span class="ruby-identifier">filename</span>
156:         <span class="ruby-identifier">create_file</span>(<span class="ruby-node">&quot;vendor/#{filename}&quot;</span>, <span class="ruby-identifier">data</span>, <span class="ruby-identifier">:verbose</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
157:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Protected methods</div>
            
            <div class="method">
                <div class="title" id="M004239">
                    
                    <a name="M004239"></a><b>extify</b>(name)
                    
                </div>
                
                <div class="description">
                  <p>
Add an extension to the given name based on the platform.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004239_source')" id="l_M004239_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/eff41a2c05fbc6b0c86aae467fd9dc5bd515da67/railties/lib/rails/generators/actions.rb#L312" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M004239_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File railties/lib/rails/generators/actions.rb, line 312</span>
312:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">extify</span>(<span class="ruby-identifier">name</span>)
313:           <span class="ruby-keyword kw">if</span> <span class="ruby-constant">RbConfig</span><span class="ruby-operator">::</span><span class="ruby-constant">CONFIG</span>[<span class="ruby-value str">'host_os'</span>] <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/mswin|mingw/</span>
314:             <span class="ruby-node">&quot;#{name}.bat&quot;</span>
315:           <span class="ruby-keyword kw">else</span>
316:             <span class="ruby-identifier">name</span>
317:           <span class="ruby-keyword kw">end</span>
318:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M004238">
                    
                    <a name="M004238"></a><b>log</b>(*args)
                    
                </div>
                
                <div class="description">
                  <p>
Define log for backwards compatibility. If just one argument is sent,
invoke say, otherwise invoke say_status. Differently from say and similarly
to say_status, this method respects the quiet? option given.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M004238_source')" id="l_M004238_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/eff41a2c05fbc6b0c86aae467fd9dc5bd515da67/railties/lib/rails/generators/actions.rb#L301" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M004238_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File railties/lib/rails/generators/actions.rb, line 301</span>
301:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">log</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
302:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span>
303:             <span class="ruby-identifier">say</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">quiet?</span>
304:           <span class="ruby-keyword kw">else</span>
305:             <span class="ruby-identifier">args</span> <span class="ruby-operator">&lt;&lt;</span> (<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">behavior</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:invoke</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">:green</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">:red</span>)
306:             <span class="ruby-identifier">say_status</span> <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>
307:           <span class="ruby-keyword kw">end</span>
308:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    